<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='relay'>/**
</span> * @class relay
 * @extends service
 */
<span id='relay-attribute-beacons'>/**
</span> * @attribute {Object} [beacons=&quot;[object Object]&quot;]
 * Current list of beacons visible with the repeater
 * Clients will see the all the visible beacons regardless of when they joined.
 */
<span id='relay-attribute-changes'>/**
</span> * @attribute {Array} [changes=&quot;&quot;]
 * Most recent list of changes to the beacon attribute sent from the server
 * Clients will only see the latest changes added since they join.
 */
<span id='relay-attribute-device_data'>/**
</span> * @attribute {Object} [device_data=&quot;[object Object]&quot;]
 * Keep track of usage by device. The key is the device uuid and the
 * value is a hash of beacon_uuid to the beacon data. Old data is removed
 * from the structure.
 */
<span id='relay-attribute-beacon_data'>/**
</span> * @attribute {Object} [beacon_data=&quot;[object Object]&quot;]
 * Keep track of usage by beacon id. The key is the beacon id and the value
 * is a hash of device_uuid to the beacon data. Old data is removed
 * from the structure.
 */
<span id='relay-method-init'>/**
</span> * @method init
 */
<span id='relay-method-postBeacons'>/**
</span> * @method postBeacons
 * Keep track of location by device and beacon.
 * The beacon_id is the concatenation of the uuid and major and minor number.
 * @param json
 */
<span id='relay-method-expire_beacon_data'>/**
</span> * @method expire_beacon_data
 * @param age
 */
<span id='relay-method-checkMovement'>/**
</span> * @method checkMovement
 * @param distances
 */
<span id='relay-method-intersection'>/**
</span> * @method intersection
 * Find intersection of current and previous beacons.
 * @param a
 * @param b
 */
<span id='relay-method-findChanges'>/**
</span> * @method findChanges
 */</pre>
</body>
</html>
